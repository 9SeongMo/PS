
# 리눅스 디바이스 드라이버
-----------------------------------------------
- ## g-camp 관련 강의를 보면서 필기내용 정리한것입니다 문제시 알려주시면 바로 삭제하겠습니다


- ## 블록디바이스 드라이버

	- 블록 디바이스는 임의 접근능력을 갖춘 저장매체
	- 문자디바이스와 달리 파일 시스템 자료를 담을 수 있다(하드 디스크와 같은 저장 매체를 다룬다)
	- 대부분의 저장 디바이스가 블록(512,1024...4096Byte) 단위의 입출력을 기반
	- 입출력 스케쥴러가 동작
	

- ## 블록디바이스 개념
	- 랜덤 엑서스가 가능한 장치
	- 파일시스템에 의해 mount되어 관리되는 장치
	- 버퍼캐쉬에 의해 내부장치 표현
	- 디스크,CD-ROM...
	- request_qeueu_t 구조체를 이용함

- ## 블록디바이스 실습
	- 파일시스템은 버퍼캐시를 통해 블럭 디바이스에 접근한다. 버퍼캐시를 통한 작업은 일반 read/write와는 다름 별로의 인터페이스가 존재 -> request
	- 따로 request 함수를 구현해야하고 이 함수에서 실질적인 read/write 작업을 한다
	- 또 블럭의 크기, 섹터크기, 전체크키를 따로 블럭장치 관리하는 전역변수에 설정해야한다

- ## Device Tree(DT)
	- 하드웨어 구성을 설명하기위한 데이터 구조, 부트로더와 os간의 표준인터페이스
	- .dts : board-level definitions
	- .dtsi : include file, SoC-level definitions
	- status = "okay" 로 하드웨어 구동여부 결정
	- linux-khadas-vims-4.9.y\linux-khadas-vims-4.9.y\arch\arm64\boot\dts\amlogic 안에 위치함
	- 장치트리는 
	- A311D memory map으로 가면 각 장치별 주소가있다

- ## 출처
	- https://www.g.camp/1949 강의 필기

	<br/><br/><br/>